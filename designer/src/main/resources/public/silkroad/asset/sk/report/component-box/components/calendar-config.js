define(["constant","report/component-box/components/calendar-vm-template"],function(a,b){function c(a){var b=a.rootId+a.serverData.id,c=$.extend(!0,{},h);return c.id=b+g,c}function d(a){for(var b=[],c={},d={},e=k.timeTypeList,f=k.timeTypeOpt,g=0,h=a.length;h>g;g++){var i=a[g].type;b.push(e[i]);var j=f[i];j.date=a[g].date,void 0!==a[g].startDateOpt&&void 0!==a[g].endDateOpt&&(d.startDateOpt=a[g].startDateOpt,d.endDateOpt=a[g].endDateOpt),c[i]=$.extend(!0,{},j)}return{timeTypeList:b,timeTypeOpt:c,rangeTimeTypeOpt:d}}function e(a){var b,c,d=[];for(var e in a){var f={};b=a[e],f.type=e,c=b.date[0],f.defaultSelectedVal=c.substr(0,c.length-1),f.defaultSelectedUnit=c.substr(c.length-1,1),d.push(f)}return d}function f(a){var b;switch(a){case"ownertable_TimeDay":b="D";break;case"ownertable_TimeWeekly":b="W";break;case"ownertable_TimeMonth":b="M";break;case"ownertable_TimeQuarter":b="Q";break;case"ownertable_TimeYear":b="Y"}return b}var g=a.COMPONENT_ID_SUFFIX.CALENDAR,h={clzType:"VUI",dataSetOpt:{forbidEmpty:!1,disableCancelBtn:!1,timeTypeList:[],timeTypeOpt:{}},name:"dim_time^_^the_date",dateKey:{},clzKey:"X_CALENDAR"},i={clzType:"VUI",name:"dim_time^_^the_date",dateKey:{},dataSetOpt:{rangeTimeTypeOpt:{startDateOpt:0,endDateOpt:0}},clzKey:"RANGE_CALENDAR"},j={start:0,end:0},k={timeTypeList:{D:{value:"D",text:"日"},W:{value:"W",text:"周"},M:{value:"M",text:"月"},Q:{value:"Q",text:"季"}},timeTypeOpt:{D:{selMode:"SINGLE",date:["-1D","-1D"],range:["2011-01-01","0D"],selModeList:[{text:"单选",value:"SINGLE",prompt:"单项选择"}]},W:{selMode:"RANGE",date:["-1W","-1W"],range:["2011-01-01","0W"],selModeList:[{text:"单选",value:"SINGLE",prompt:"单项选择"}]},M:{selMode:"SINGLE",date:["-1M","-2M"],range:["2011-01-01","0M"],selModeList:[{text:"单选",value:"SINGLE",prompt:"单项选择"}]},Q:{selMode:"SINGLE",date:["-1Q","-2Q"],range:["2011-01-01","0D"],selModeList:[{text:"单选",value:"SINGLE",prompt:"单项选择"}]}}};return{type:"TIME_COMP",caption:"日历",iconClass:"calendar",defaultWidth:300,defaultHeight:33,vm:{render:function(a){return b.render({id:a.rootId+a.serverData.id+g})}},entityDescription:h,entityDescriptionRangeCalendar:i,processRenderData:c,rangeConfig:j,switchConfig:d,deSwitchConfig:e,timeTypeConfig:k,switchLetter:f}});